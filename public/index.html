<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ å¯†è´§å¸ç§äººåŠ©æ‰‹</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 600px; margin: 0 auto; transition: 0.3s; }
        .card { border: 1px solid #ddd; padding: 20px; border-radius: 10px; margin-top: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        h1 { color: #333; }
        .price-tag { font-size: 24px; font-weight: bold; color: #d9534f; }
        button { padding: 10px 20px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 5px; }
        
        /* å¤œé—´æ¨¡å¼æ ·å¼ */
        body.dark-mode { background-color: #1a1a1a; color: #f0f0f0; }
        body.dark-mode .card { border-color: #444; background-color: #2d2d2d; }
        body.dark-mode h1 { color: #fff; }
    </style>
</head>
<body>

    <h1>ğŸš€ Crypto Tools</h1>
    <button onclick="toggleTheme()">åˆ‡æ¢å¤œé—´æ¨¡å¼</button>

    <div class="card">
        <h3>BTC å®æ—¶æ•°æ®</h3>
        <p>å½“å‰ä»·æ ¼: <span id="price" class="price-tag">åŠ è½½ä¸­...</span> USD</p>
        <p>Ahr999 (æ¨¡æ‹Ÿ): <span id="index">--</span></p>
        <p>å»ºè®®: <strong id="advice">--</strong></p>
        <p style="font-size: 12px; color: #888;">æ›´æ–°æ—¶é—´: <span id="time">--</span></p>
    </div>

    <script src="common.js"></script>
    
    <script>
        // é¡µé¢åŠ è½½åï¼Œç«‹åˆ»å»é—®åç«¯è¦æ•°æ®
        async function fetchData() {
            try {
                // å‘¼å«åç«¯ API
                const res = await fetch('/api/get-ahr999');
                const data = await res.json();
                
                // æŠŠæ•°æ®æ˜¾ç¤ºåœ¨å±å¹•ä¸Š
                document.getElementById('price').innerText = data.price;
                document.getElementById('index').innerText = data.index;
                document.getElementById('advice').innerText = data.advice;
                document.getElementById('time').innerText = data.updateTime;
            } catch (err) {
                document.getElementById('price').innerText = "è·å–å¤±è´¥";
                console.error(err);
            }
        }
        
        fetchData(); // æ‰§è¡Œå‡½æ•°
    </script>
</body>
</html>
